@startuml
!include style.puml
skinparam arrowThickness 1.1
skinparam arrowColor MODEL_COLOR
skinparam classBackgroundColor MODEL_COLOR

Package Model <<Rectangle>>{
Interface ReadOnlyMark <<Interface>>
Interface Model <<Interface>>
Interface ObservableList <<Interface>>
Class Mark
Class ReadOnlyMark
Class VersionedMark
Class Model
Class ModelManager
Class UserPrefs
Class ReadOnlyUserPrefs

Package FolderStructure {
Class FolderStructure
}

Package Reminder {
Class Reminder
Class Note
Class ReminderAssociation
}

Package Autotag {
Class AutotagController
Class BookmarkTagger
Class SelectiveBookmarkTagger
}

Package Bookmark {
Class Bookmark
Class Name
Class Url
Class Remark
Class Folder
Class UniqueBookmarkList
}

Package Annotation {
Class OfflineDocument
}

Package Tag {
Class Tag
}
}

Class HiddenOutside #FFFFFF
HiddenOutside ..> Model

ModelManager .up.|> Model
Model .right.> ObservableList
ModelManager o--> "1" VersionedMark
ModelManager o-left-> "1" UserPrefs
ModelManager --> "*" Bookmark : filtered list
ModelManager -up-> "1" OfflineDocument
ModelManager --> "1" Url : < current URL of

UserPrefs .up.|> ReadOnlyUserPrefs

Mark .up.|> ReadOnlyMark
VersionedMark -|> Mark
VersionedMark *-up-> "*" ReadOnlyMark : contains >

Mark *--> "1" UniqueBookmarkList
Mark *-left-> "1" FolderStructure
Mark *--> "1" ReminderAssociation
Mark *-left-> "1" AutotagController

UniqueBookmarkList o--> "*" Bookmark
Bookmark *--> Name
Bookmark *--> Url
Bookmark *--> Remark
Bookmark *--> Folder
Bookmark *--> "*" Tag

Name -[hidden]right-> Url
Url -[hidden]right-> Remark
Remark -[hidden]right-> Folder

ReminderAssociation o--> "*" Bookmark
ReminderAssociation o--> "*" Reminder
Reminder --> Bookmark
Reminder --> Note

AutotagController o--> "*" SelectiveBookmarkTagger
SelectiveBookmarkTagger -down-|> BookmarkTagger
BookmarkTagger --> Tag

@enduml
